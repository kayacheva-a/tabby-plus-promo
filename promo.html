<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promo - Tabby+ Project Plan</title>
    <style>
        :root {
            --tabby-primary: #8B5CF6;
            --tabby-violet-dark: #7C3AED;
            --tabby-pink-light: #F472B6;
            --tabby-purple: #A855F7;
            --tabby-dark: #1F2937;
            --tabby-gray: #6B7280;
            --tabby-light-gray: #E5E7EB;
            --tabby-bg-white: #FFFFFF;
            --tabby-bg-cream: #FEFEFE;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--tabby-bg-cream);
            color: var(--tabby-dark);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, var(--tabby-violet-dark) 0%, var(--tabby-pink-light) 50%, var(--tabby-purple) 100%);
            min-height: 50vh;
            display: flex;
            align-items: center;
            justify-content: flex-start;
            border-bottom-left-radius: 50px;
            border-bottom-right-radius: 50px;
            margin-bottom: 2rem;
            padding: 4rem 0;
        }

        .hero-content {
            width: 100%;
            padding: 2rem 0;
        }

        .hero-text {
            max-width: 600px;
        }

        .hero-title {
            font-size: 3.5rem;
            font-weight: 800;
            color: white;
            margin-bottom: 1.5rem;
            line-height: 1.1;
        }

        .hero-subtitle {
            font-size: 1.25rem;
            color: white;
            margin-bottom: 2.5rem;
            line-height: 1.6;
            opacity: 0.95;
        }

        .hero-cta {
            display: flex;
            gap: 1rem;
        }

        .btn-primary {
            background: white;
            color: var(--tabby-violet-dark);
            padding: 1rem 2rem;
            border-radius: 12px;
            text-decoration: none;
            font-weight: 600;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        /* Comparison Section */
        .comparison-section {
            background: var(--tabby-bg-cream);
            padding: 6rem 0;
        }

        .comparison-table {
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th {
            background: var(--tabby-bg-white);
            padding: 1.5rem;
            text-align: left;
            font-weight: 700;
            color: var(--tabby-dark);
            border-bottom: 2px solid var(--tabby-light-gray);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        th:nth-child(2) {
            background: var(--tabby-gray);
            color: white;
        }

        th:nth-child(3) {
            background: var(--tabby-violet-dark);
            color: white;
        }

        td {
            padding: 1.5rem;
            border-bottom: 1px solid var(--tabby-light-gray);
            vertical-align: top;
        }

        .feature-category {
            font-weight: 600;
            color: var(--tabby-dark);
        }

        .feature-name {
            font-weight: 600;
            color: var(--tabby-dark);
            margin-bottom: 0.25rem;
        }

        .feature-subline {
            font-size: 0.85rem;
            color: var(--tabby-gray);
            font-weight: 400;
            font-style: italic;
        }

        .feature-free {
            color: var(--tabby-dark);
        }

        .feature-premium {
            color: var(--tabby-dark);
        }

        .highlight {
            background: linear-gradient(135deg, var(--tabby-violet-dark), var(--tabby-pink-light));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 600;
        }

        .free-text {
            color: #00A645;
            font-weight: 600;
        }

        .paid-text {
            color: #DC2626;
            font-weight: 600;
        }
        
        .basic-text {
            color: #EA580C;
            font-weight: 600;
        }
        
        .not-available-text {
            color: #EA580C;
            font-weight: 600;
        }

        .cell-with-modal {
            animation: pulseGradient 3s ease-in-out infinite;
            position: relative;
        }

        .cell-with-modal::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(244, 114, 182, 0.1));
            border-radius: 8px;
            z-index: -1;
        }

        @keyframes pulseGradient {
            0%, 100% { background: rgba(139, 92, 246, 0.05); }
            50% { background: rgba(139, 92, 246, 0.15); }
        }

        /* Column Selection */
        .comparison-table.free-selected .feature-free {
            background: rgba(248, 250, 252, 0.5);
            color: var(--tabby-dark);
            position: relative;
        }

        .comparison-table.free-selected .feature-free::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(135deg, var(--tabby-light-gray), var(--tabby-gray));
            border-radius: 8px;
            z-index: -1;
        }

        .comparison-table.plus-selected .feature-premium {
            background: rgba(139, 92, 246, 0.1);
            color: var(--tabby-dark);
            position: relative;
        }

        .comparison-table.plus-selected .feature-premium::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(135deg, var(--tabby-violet-dark), var(--tabby-pink-light));
            border-radius: 8px;
            z-index: -1;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: transparent;
        }

        .modal-content {
            position: absolute;
            background-color: white;
            width: 800px;
            max-width: 90vw;
            border-radius: 15px;
            border: 1px solid var(--tabby-light-gray);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
            --arrow-top: 50px;
        }

        .modal-content::before {
            content: '';
            position: absolute;
            right: -20px;
            top: var(--arrow-top);
            width: 0;
            height: 0;
            border-left: 20px solid white;
            border-top: 15px solid transparent;
            border-bottom: 15px solid transparent;
        }

        .modal-content::after {
            content: '';
            position: absolute;
            right: -21px;
            top: var(--arrow-top);
            width: 0;
            height: 0;
            border-left: 21px solid var(--tabby-light-gray);
            border-top: 16px solid transparent;
            border-bottom: 16px solid transparent;
        }

        .modal-header {
            background: var(--tabby-bg-cream);
            color: var(--tabby-dark);
            padding: 1.5rem;
            border-bottom: 1px solid var(--tabby-light-gray);
            border-radius: 15px 15px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h3 {
            margin: 0;
            font-size: 1.25rem;
            font-weight: 700;
        }

        .close {
            color: var(--tabby-gray);
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .close:hover {
            color: var(--tabby-dark);
        }

        .modal-body {
            padding: 2rem;
            max-height: 60vh;
            overflow-y: auto;
        }

        .modal-section {
            margin-bottom: 1.5rem;
        }

        .section-title {
            color: var(--tabby-violet-dark);
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 0.75rem;
        }

        .section-content {
            color: var(--tabby-dark);
            line-height: 1.6;
            margin-bottom: 0.5rem;
        }

        .feature-list {
            list-style: none;
            padding: 0;
        }

        .feature-item {
            margin-bottom: 0.5rem;
            font-size: 0.95rem;
            color: var(--tabby-dark);
            line-height: 1.5;
        }

        .highlight-text {
            font-weight: 600;
            color: var(--tabby-violet-dark);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .hero-title {
                font-size: 2.5rem;
            }
            
            .hero-subtitle {
                font-size: 1.1rem;
            }
            
            .container {
                padding: 0 1rem;
            }
            
            th, td {
                padding: 1rem;
            }
            
            .modal-content {
                width: 95vw;
                margin: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <div class="hero-content">
                <div class="hero-text">
                    <h1 class="hero-title">Best of Tabby with Tabby+</h1>
                    <p class="hero-subtitle">Get the best of our rewards, debt management features, unlock expense tracking tools and paint your Tabby Card in violet.</p>
                    <div class="hero-cta">
                        <a href="#compare" class="btn-primary">Compare Plans</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Comparison Table -->
    <section class="comparison-section" id="compare">
        <div class="container">
            <div class="comparison-table" id="comparisonTable">
                <table>
                    <thead>
                        <tr>
                            <th style="width: 25%;">Features</th>
                            <th style="width: 30%;">Free Plan</th>
                            <th style="width: 30%;">Tabby+ (AED 49/month)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="3" style="background: var(--tabby-bg-white); font-weight: 700; color: var(--tabby-dark); padding: 1rem;">Instalment Plans</td>
                        </tr>
                        <tr>
                            <td class="feature-category">
                                <div class="feature-name">Split in 4 in partner stores</div>
                                <div class="feature-subline">Tabby checkout & Tabby Card</div>
                            </td>
                            <td class="feature-free"><span class="free-text">Free ✓</span></td>
                            <td class="feature-premium"><span class="free-text">Free ✓</span></td>
                        </tr>
                        <tr>
                            <td class="feature-category">
                                <div class="feature-name">Split in 4 in non-partner stores</div>
                                <div class="feature-subline">Tabby Card</div>
                            </td>
                            <td class="feature-free"><span class="paid-text">Paid ✗</span></td>
                            <td class="feature-premium cell-with-modal"><span class="highlight">Free (up to 5000 AED/month)</span></td>
                        </tr>
                        <tr>
                            <td class="feature-category">
                                <div class="feature-name">Split in 6 anywhere</div>
                                <div class="feature-subline">Tabby checkout and in-app & Tabby Card</div>
                            </td>
                            <td class="feature-free"><span class="paid-text">Paid ✗</span></td>
                            <td class="feature-premium cell-with-modal"><span class="highlight">One "Split in 6" for free at a time</span></td>
                        </tr>
                        
                        <tr>
                            <td colspan="3" style="background: var(--tabby-bg-white); font-weight: 700; color: var(--tabby-dark); padding: 1rem;">Rewards</td>
                        </tr>
                        <tr>
                            <td class="feature-category">
                                <div class="feature-name">Cashback Categories Tabby Card</div>
                                <div class="feature-subline">Tabby Card</div>
                            </td>
                            <td class="feature-free"><span class="not-available-text">Not available</span></td>
                            <td class="feature-premium"><span class="highlight">Pick 3 categories → 5% cashback</span></td>
                        </tr>
                        <tr>
                            <td class="feature-category">
                                <div class="feature-name">Cashback Categories BNPL</div>
                                <div class="feature-subline">Tabby checkout</div>
                            </td>
                            <td class="feature-free"><span class="not-available-text">Not available</span></td>
                            <td class="feature-premium"><span class="highlight">Tabby Card categories applied → 5% cashback</span></td>
                        </tr>
                        <tr>
                            <td class="feature-category">
                                <div class="feature-name">Sales Events Access</div>
                                <div class="feature-subline">Tabby Day & Black Friday</div>
                            </td>
                            <td class="feature-free">Standard access</td>
                            <td class="feature-premium"><span class="highlight">Early access</span></td>
                        </tr>
                        
                        <tr>
                            <td colspan="3" style="background: var(--tabby-bg-white); font-weight: 700; color: var(--tabby-dark); padding: 1rem;">Advanced debt management tools</td>
                        </tr>
                        <tr>
                            <td class="feature-category">
                                <div class="feature-name">Full Snooze</div>
                                <div class="feature-subline">Tabby checkout</div>
                            </td>
                            <td class="feature-free">Snooze 1 instalment</td>
                            <td class="feature-premium cell-with-modal"><span class="highlight">Snooze all instalments for the same fee</span></td>
                        </tr>
                        <tr>
                            <td class="feature-category">
                                <div class="feature-name">Due Date Changes</div>
                                <div class="feature-subline">Tabby Card</div>
                            </td>
                            <td class="feature-free"><span class="not-available-text">Not available</span></td>
                            <td class="feature-premium cell-with-modal"><span class="highlight">Once a year</span></td>
                        </tr>
                        <tr>
                            <td class="feature-category">
                                <div class="feature-name">Credit Score Reports</div>
                            </td>
                            <td class="feature-free"><span class="not-available-text">Not available</span></td>
                            <td class="feature-premium cell-with-modal"><span class="highlight">Advanced insights</span></td>
                        </tr>
                        
                        <tr>
                            <td colspan="3" style="background: var(--tabby-bg-white); font-weight: 700; color: var(--tabby-dark); padding: 1rem;">Delights</td>
                        </tr>
                        <tr>
                            <td class="feature-category">
                                <div class="feature-name">Card Design</div>
                                <div class="feature-subline">Tabby Card</div>
                            </td>
                            <td class="feature-free"><span class="basic-text">Basic</span></td>
                            <td class="feature-premium"><span class="highlight">Exclusive design</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <!-- Modal -->
    <div id="featureModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div class="modal-header">
                <h3 id="modalTitle">Feature Details</h3>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- Modal content will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const table = document.getElementById('comparisonTable');
            const headers = document.querySelectorAll('.comparison-table th');
            const modal = document.getElementById('featureModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalBody = document.getElementById('modalBody');
            const closeBtn = document.querySelector('.close');

            // Column selection functionality
            headers.forEach((header, index) => {
                if (index > 0) { // Skip the Features column
                    header.addEventListener('click', function() {
                        // Remove existing classes
                        table.classList.remove('free-selected', 'plus-selected');
                        
                        // Add appropriate class
                        if (index === 1) {
                            table.classList.add('free-selected');
                        } else if (index === 2) {
                            table.classList.add('plus-selected');
                        }
                    });
                }
            });

            // Modal functionality
            const cells = document.querySelectorAll('.comparison-table td');
            
            cells.forEach((cell, index) => {
                cell.style.cursor = 'pointer';
                const cellText = cell.textContent.trim();
                
                cell.addEventListener('click', function(e) {
                    e.stopPropagation();
                    
                    // Get the feature name from the first column of the same row
                    const row = cell.closest('tr');
                    const featureNameCell = row.querySelector('.feature-name');
                    const featureName = featureNameCell ? featureNameCell.textContent.trim() : '';
                    
                    // Position modal so arrow points to the clicked cell
                    const rect = cell.getBoundingClientRect();
                    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                    const scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;
                    
                    // Calculate modal position so the arrow points to the cell
                    const modalWidth = 800; // Same as CSS width
                    const arrowOffset = 20; // Distance from modal edge to arrow
                    const modalLeft = rect.left - modalWidth - arrowOffset;
                    
                    // Ensure modal doesn't go off screen
                    const finalLeft = Math.max(10, Math.min(modalLeft, window.innerWidth - modalWidth - 10));
                    
                    // Calculate arrow position relative to the cell
                    const cellCenterY = rect.top + (rect.height / 2);
                    const modalTop = cellCenterY - 150; // Start with modal top at cell center minus half modal height
                    
                    // Position modal
                    modal.style.position = 'absolute';
                    modal.style.left = (finalLeft + scrollLeft) + 'px';
                    modal.style.top = (modalTop + scrollTop) + 'px';
                    modal.style.display = 'block';
                    
                    // Calculate arrow position to point at the cell
                    const modalRect = modal.getBoundingClientRect();
                    const arrowTop = cellCenterY - modalRect.top;
                    
                    // Set arrow position dynamically
                    const modalContent = modal.querySelector('.modal-content');
                    modalContent.style.setProperty('--arrow-top', arrowTop + 'px');
                    
                    // Check if this is any Split in cell
                    if (featureName.includes('Split in 4') && featureName.includes('non-partner')) {
                        modalTitle.textContent = cellText;
                        modalBody.innerHTML = `
                            <div class="modal-section">
                                <h4 class="section-title">Past Benefit</h4>
                                <p class="section-content">Tabby+ allowed OL and CL transactions to be rolled over at 25% repayment with no fee (no limit).</p>
                            </div>
                            
                            <div class="modal-section">
                                <h4 class="section-title">New Design</h4>
                                <ul class="feature-list">
                                    <li class="feature-item">Free rollover on CL: 25% repayment, <span class="highlight-text">no cap</span>.</li>
                                    <li class="feature-item">Free rollover on OL: 25% repayment capped to <span class="highlight-text">AED 5,000 per month</span>. Beyond that, OL purchases require full repayment to avoid fees.</li>
                                </ul>
                            </div>
                            
                            <div class="modal-section">
                                <h4 class="section-title">Why</h4>
                                <p class="section-content">Controls cost risk while preserving value.</p>
                            </div>
                        `;
                    } else if (featureName.includes('Split in 6')) {
                        modalTitle.textContent = cellText;
                        modalBody.innerHTML = `
                            <div class="modal-section">
                                <h4 class="section-title">What</h4>
                                <p class="section-content">One "Split in 6" transaction at 0% fee, valid in BNPL checkout or post-purchase (BNPL or Card).</p>
                            </div>
                            
                            <div class="modal-section">
                                <h4 class="section-title">Mechanic</h4>
                                <ul class="feature-list">
                                    <li class="feature-item">Only one Free-6 active at a time.</li>
                                    <li class="feature-item">Free-6 resets after repayment (early repayment allowed).</li>
                                </ul>
                            </div>
                            
                            <div class="modal-section">
                                <h4 class="section-title">Why</h4>
                                <p class="section-content">Drives engagement with long-term financing.</p>
                            </div>
                        `;
                    } else if (featureName.includes('Full Snooze')) {
                        modalTitle.textContent = cellText;
                        modalBody.innerHTML = `
                            <div class="modal-section">
                                <h4 class="section-title">What</h4>
                                <p class="section-content">Upgrade snooze → Instead of postponing only the next instalment let users snooze <span class="highlight-text">all active instalments of the purchase</span> for the same fee.</p>
                            </div>
                            
                            <div class="modal-section">
                                <h4 class="section-title">Mechanic</h4>
                                <p class="section-content">One active snooze per purchase. Reset/re-eligible after entire purchase is repaid.</p>
                            </div>
                            
                            <div class="modal-section">
                                <h4 class="section-title">Why</h4>
                                <p class="section-content">Creates flexible repayment benefit → unique selling point for BNPL.</p>
                            </div>
                        `;
                    } else if (featureName.includes('Due Date Changes')) {
                        modalTitle.textContent = cellText;
                        modalBody.innerHTML = `
                            <div class="modal-section">
                                <h4 class="section-title">What</h4>
                                <p class="section-content">Users can move the due date for Tabby Card payments. The feature is exclusive to subscription holders but requires an additional fee even for subscribers.</p>
                            </div>
                            
                            <div class="modal-section">
                                <h4 class="section-title">Mechanic</h4>
                                <p class="section-content">Due date can be moved only once per calendar year per user. Date adjustment is permitted only within the same calendar month (from current date up to the last day of the month). The feature is chargeable on top of the subscription fee.</p>
                            </div>
                        `;
                    } else if (featureName.includes('Credit Score Reports')) {
                        modalTitle.textContent = cellText;
                        modalBody.innerHTML = `
                            <div class="modal-section">
                                <h4 class="section-title">What</h4>
                                <p class="section-content">Internal Tabby score is issued quarterly and comes with a report that shows if there were score drops, what influenced them, if there were increases, what influenced them, user's DBR and an attached credit bureau report.</p>
                            </div>
                            
                            <div class="modal-section">
                                <h4 class="section-title">Score Factors</h4>
                                <p class="section-content">Only formalized actions are listed as affecting the score (for example overdues and DBR for negatives, early repayments, large lump sum repayments, attached salary certificates and connected Lean for positives if they impacted the score). User actions flagged by the risk model as risky or fraudulent but not formalized are not shown. Score is linked to Purchase Power and always displayed for subscribed users.</p>
                            </div>
                        `;
                    } else {
                        // For other cells, show basic info
                        modalTitle.textContent = cellText;
                        modalBody.innerHTML = `
                            <div class="modal-section">
                                <h4 class="section-title">Feature Information</h4>
                                <p class="section-content">This feature is part of the Tabby+ subscription plan. Click on other cells with pulsing animations to see detailed information about specific features.</p>
                            </div>
                        `;
                    }
                });
            });

            // Close modal functionality
            closeBtn.addEventListener('click', function() {
                modal.style.display = 'none';
            });

            // Close modal when clicking outside
            window.addEventListener('click', function(event) {
                if (event.target === modal) {
                    modal.style.display = 'none';
                }
            });

            // Close modal with Escape key
            document.addEventListener('keydown', function(event) {
                if (event.key === 'Escape') {
                    modal.style.display = 'none';
                }
            });
        });
    </script>
</body>
</html>
